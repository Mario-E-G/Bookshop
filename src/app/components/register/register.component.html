<div class="container">
    <div class="row">
        <div class="col-12">
            <div *ngIf="error" class="alert alert-danger text-center">{{error}}</div>
        </div>
    </div>
    <div class="row justify-content-center align-items-center">
        <div class="col-lg-5 col-md-8 col-sm-10">
            <div class="card">
                <div class="card-header">
                    <h4>Register</h4>
                </div>
                <div class="card-body">
                    <form [formGroup]="registerForm" (ngSubmit)="onSubmit(registerForm)" class="bg-light">
                        <div class="form-group mb-3">
                            <label for="first_name" class="control-label my-2 text-dark">First Name:</label>
                            <input placeholder="Enter your first name" id="first_name" type="text"
                                formControlName="first_name" class="form-control bg-light text-dark" required />
                            <div class="error" *ngIf="
                      registerForm.controls['first_name']?.invalid &&
                      (registerForm.controls['first_name'].dirty ||
                      registerForm.controls['first_name'].touched)
                      ">
                                <p *ngIf="registerForm.get('first_name')?.errors?.['required']" class="text-danger">
                                    First name is required.
                                </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="last_name" class="control-label my-2 text-dark">Last Name:</label>
                            <input placeholder="Enter your last name" id="last_name" type="text"
                                formControlName="last_name" class="form-control bg-light text-dark" required />
                            <div class="error" *ngIf="
                      registerForm.controls['last_name']?.invalid &&
                      (registerForm.controls['last_name'].dirty ||
                      registerForm.controls['last_name'].touched)
                      ">
                                <p *ngIf="registerForm.controls['last_name'].errors!['required']" class="text-danger">
                                    Last name is required.
                                </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="email" class="control-label  my-2 text-dark">Email:</label>
                            <input placeholder="Enter your Email" id="email" type="email" formControlName="email"
                                class="form-control bg-light text-dark" required />
                            <div class="error" *ngIf="
                      registerForm.controls['email'].invalid &&
                      (registerForm.controls['email'].dirty ||
                      registerForm.controls['email'].touched)
                      ">
                                <p *ngIf="registerForm.get('email')?.errors?.['required']" class="text-danger">
                                    Email address is required.
                                </p>
                                <p *ngIf="registerForm.get('email')?.errors?.['email']" class="text-danger">
                                    Invalid email address.
                                </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">

                            <div class="form-group">
                                <label for="birthdate">Birthdate:</label>
                                <input type="date" id="birth_date" formControlName="birth_date" class="form-control" />
                                <div class="error"
                                    *ngIf="registerForm.controls['birth_date'].invalid && (registerForm.controls['birth_date'].dirty || registerForm.controls['birth_date'].touched)">
                                    <div *ngIf="registerForm.controls['birth_date']errors['required']">Birthdate is
                                        required.</div>
                                </div>
                            </div>

                        </div>
                        <div class="form-group mb-3">
                            <label for="gender" class="control-label my-2 text-dark">gender:</label>
                            <select id="gender" formControlName="gender" class="form-control">
                                <option value="">Select</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>

                            <div class="error" *ngIf="registerForm.controls['gender']?.invalid &&(registerForm.controls['gender'].dirty || registerForm.controls['gender'].touched)
                      ">
                                <p *ngIf="registerForm.controls['gender'].errors!['required']" class="text-danger">
                                    Gender is required.
                                </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="image_url" class="control-label my-2 text-dark">image</label>
                            <input id="image_url" type="file" formControlName="image_url"
                                class="form-control bg-light text-dark" />
                            <div class="error" *ngIf="registerForm.controls['image_url']?.invalid &&(registerForm.controls['image_url'].dirty || registerForm.controls['image_url'].touched)
                                ">
                                <p *ngIf="registerForm.controls['image_url'].errors!['required']" class="text-danger">
                                    image is required.
                                </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="password" class="control-label  my-2 text-dark">Password:</label>
                            <input id="password" type="password" formControlName="password"
                                class="form-control bg-light text-dark" required />
                            <div class="error" *ngIf="
                      registerForm.controls['password']?.invalid &&
                      (registerForm.controls['password'].dirty ||
                      registerForm.controls['password'].touched)
                      ">
                                <p *ngIf="registerForm.controls['password'].errors!['required']" class="text-danger">
                                    Password is required.
                                </p>
                                <p *ngIf="(registerForm.get('password')?.errors)!['minlength']" class="text-danger">
                                    Password must be at least 8 characters.
                                </p>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="confirm_password" class="control-label my-2 text-dark">confirm_password:</label>
                            <input id="confirm_password" type="password" formControlName="confirm_password"
                                class="form-control bg-light text-dark" required />
                            <div class="error" *ngIf="
                      registerForm.controls['confirm_password']?.invalid &&
                      (registerForm.controls['confirm_password'].dirty ||
                      registerForm.controls['confirm_password'].touched)
                      ">
                                <p *ngIf="registerForm.controls['confirm_password'].errors!['required']"
                                    class="text-danger">
                                    Confirm password is required.
                                </p>
                                <p *ngIf="registerForm.controls['confirm_password'].errors!['passwordMismatch']"
                                    class="text-danger">
                                    Password doesn't match.
                                </p>
                            </div>
                        </div>
                        <div class="form-group w-50">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="submit" [disabled]="registerForm.invalid" class="btn btn-primary">
                                    Register
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>